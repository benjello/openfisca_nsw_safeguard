- name: test ESS NABERS eligibility - eligibility within method 1
  period: 2021
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
        office,
        office,
        apartment_building,
        apartment_building,
        apartment_building,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
        False,
        False,
        False,
        False,
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2021-03-31,
        2020-07-31,
        2020-02-29,
        2018-03-31,
        2019-03-31,
        2020-02-29,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        5,
        5,
        5,
        5,
        5,
        5,
      ]
    ESS__NABERS_building_date:
      [
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
      ]
    ESS__NABERS_first_NABERS_rating:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_rating_obtained_for_legal_requirements:
      [
        False,
        False,
        False,
        False,
        False,
        False,
]
  output:
    ESS__NABERS_exceeds_A20_benchmark_rating_by_half_star:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        True,
        True,
        False,
        False,
        False,
        False,
      ]
- name: initial test ESS NABERS eligibility - eligibility within method 2
  period: 2021
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2018-03-31,
      ]
    ESS__NABERS_end_date_of_historical_NABERS_rating_period:
      [
        2016-07-31,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        5,
      ]
    ESS__NABERS_historical_NABERS_star_rating:
      [
        2,
      ]
    ESS__NABERS_historical_rating_meets_similar_configuration_criteria:
      [
        True,
      ]
  output:
    ESS__NABERS_is_eligible_for_method_two:
      [
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        False,
      ]
- name: test ESS NABERS eligibility - eligibility within method 2
  period: 2021
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
        office,
        office,
        apartment_building,
        apartment_building,
        apartment_building,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
        False,
        False,
        False,
        False,
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2021-03-31,
        2019-03-31,
        2020-02-29,
        2018-03-31,
        2019-03-31,
        2020-02-29,
      ]
    ESS__NABERS_end_date_of_historical_NABERS_rating_period:
      [
        2016-07-31,
        2016-07-31,
        2016-07-31,
        2016-07-31,
        2016-07-31,
        2016-07-31,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        5,
        5,
        5,
        5,
        5,
        5,
      ]
    ESS__NABERS_historical_NABERS_star_rating:
      [
        2,
        2,
        2,
        2,
        2,
        2,
      ]
    ESS__NABERS_building_date:
      [
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
      ]
    ESS__NABERS_first_NABERS_rating:
      [
        False,
        False,
        False,
        False,
        False,
        False,
      ]
    ESS__NABERS_rating_obtained_for_legal_requirements:
      [
        False,
        False,
        False,
        False,
        False,
        False,
      ]
    ESS__NABERS_historical_rating_meets_similar_configuration_criteria:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
  output:
    ESS__NABERS_rating_calculated_using_NABERS_rating_tools:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_current_star_rating_exceeds_method_two_benchmark_rating:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_no_more_than_7_years_between_current_year_and_historical_rating_date:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_is_eligible_for_method_two:
      [
        True,
        True,
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        True,
        False,
        False,
        False,
        False,
        False,
      ]
- name: test ESS NABERS eligibility - Jess test case 08/06/2021
  period: 2021
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
      ]
    ESS__NABERS_first_NABERS_rating:
      [
        False,
      ]
    ESS__NABERS_historical_NABERS_star_rating:
      [
        3,
      ]
    ESS__NABERS_end_date_of_historical_NABERS_rating_period:
      [
        2019-12-31,
      ]
    ESS__NABERS_historical_rating_meets_similar_configuration_criteria:
      [
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2021-01-01,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        3,
      ]
    ESS__NABERS_building_date:
      [
        built_before_nov_2006,
      ]
    ESS__NABERS_rating_obtained_for_legal_requirements:
      [
        False,
      ]
  output:
    ESS__NABERS_rating_calculated_using_NABERS_rating_tools:
      [
        True,
      ]
    ESS__NABERS_current_star_rating_exceeds_method_two_benchmark_rating:
      [
        False,
      ]
    ESS__NABERS_no_more_than_7_years_between_current_year_and_historical_rating_date:
      [
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        False,
      ]
    ESS__NABERS_is_eligible_for_method_two:
      [
        False,
      ]
- name: test ESS NABERS eligibility - Jess test case 3.3 - 08/06/2021
  period: 2021
  absolute_error_margin: 0.1
  input:
    ESS__NABERS_building_type:
      [
        office,
        office,
        office,
        office,
      ]
    ESS__NABERS_building_has_GreenPower:
      [
        False,
        False,
        False,
        False,
      ]
    ESS__NABERS_all_sources_of_on_site_electricity_generation_identified:
      [
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_on_site_unaccounted_electricity_metered_and_recorded:
      [
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_first_NABERS_rating:
      [
        False,
        False,
        False,
        False,
      ]
    ESS__NABERS_historical_NABERS_star_rating:
      [
        3,
        3,
        3,
        3,
      ]
    ESS__NABERS_end_date_of_historical_NABERS_rating_period:
      [
        2019-12-31,
        2019-12-31,
        2019-12-31,
        2019-12-31,
      ]
    ESS__NABERS_historical_rating_meets_similar_configuration_criteria:
      [
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_end_date_of_current_NABERS_rating_period:
      [
        2021-01-01,
        2021-01-01,
        2021-01-01,
        2021-01-01,
      ]
    ESS__NABERS_current_NABERS_star_rating:
      [
        3,
        3.45,
        3.49,
        3.5,
      ]
    ESS__NABERS_building_date:
      [
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
        built_before_nov_2006,
      ]
    ESS__NABERS_rating_obtained_for_legal_requirements:
      [
        False,
        False,
        False,
        False,
      ]
  output:
    ESS__NABERS_rating_calculated_using_NABERS_rating_tools:
      [
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_current_star_rating_exceeds_method_two_benchmark_rating:
      [
        False,
        False,
        False,
        True,
      ]
    ESS__NABERS_no_more_than_7_years_between_current_year_and_historical_rating_date:
      [
        True,
        True,
        True,
        True,
      ]
    ESS__NABERS_is_eligible_for_method_two:
      [
        False,
        False,
        False,
        True,
      ]
    ESS__NABERS_is_eligible:
      [
        False,
        False,
        False,
        True,
      ]
